<!DOCTYPE html> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="../_static/javascripts/modernizr.js"></script> <title>Forecasting &#8212; arch 4.13+52.g1b815f9 documentation</title> <link rel=apple-touch-icon  sizes=180x180  href="../_static/images/apple-touch-icon.png"> <link rel=icon  type="image/png" sizes=32x32  href="../_static/images/favicon-32x32.png"> <link rel=icon  type="image/png" sizes=16x16  href="../_static/images/favicon-16x16.png"> <link rel=manifest  href="../_static/images/site.webmanifest"> <link rel=mask-icon  href="../_static/images/safari-pinned-tab.svg" color="#2196f3"> <meta name=msapplication-TileColor  content="#2b5797"> <meta name=msapplication-config  content="../_static/images/browserconfig.xml"> <link rel=stylesheet  href="../_static/material.css" type="text/css" /> <link rel=stylesheet  href="../_static/pygments.css" type="text/css" /> <script id=documentation_options  data-url_root="../" src="../_static/documentation_options.js"></script> <script src="../_static/jquery.js"></script> <script src="../_static/underscore.js"></script> <script src="../_static/doctools.js"></script> <script src="../_static/language_data.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <script async=async  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script> <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script> <link rel="shortcut icon" href="../_static/favicon.ico"/> <link rel=index  title=Index  href="../genindex.html" /> <link rel=search  title=Search  href="../search.html" /> <link rel=next  title="Volatility Forecasting" href=univariate_volatility_forecasting.html  /> <link rel=prev  title="ARCH Modeling" href=univariate_volatility_modeling.html  /> <script src="../_static/javascripts/version_dropdown.js"></script> <script> var json_loc = "../"versions.json"", target_loc = "../../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> <body dir=ltr data-md-color-primary=blue data-md-color-accent=indigo> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#univariate/forecasting" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href="../index.html" title="arch 4.13+52.g1b815f9 documentation" class="md-header-nav__button md-logo"> <img src="../_static/bw-logo.svg" height=26  alt="arch 4.13+52.g1b815f9 documentation logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >arch 4.13 (+52)</span> <span class=md-header-nav__topic > Forecasting </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../search.html" method=GET  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source > <a href="https://github.com/bashtage/arch/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > ARCH </div> </a> </div> </div> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href=univariate.html  class=md-tabs__link >Univariate Volatility Models</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../index.html" title="arch 4.13+52.g1b815f9 documentation" class="md-nav__button md-logo"> <img src="../_static/bw-logo.svg" alt=" logo" width=48  height=48 > </a> <a href="../index.html" title="arch 4.13+52.g1b815f9 documentation">arch 4.13 (+52)</a> </label> <div class=md-nav__source > <a href="https://github.com/bashtage/arch/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > ARCH </div> </a> </div> <ul class=md-nav__list > <li class=md-nav__item > <a href=univariate.html  class=md-nav__link >Univariate Volatility Models</a> <ul class=md-nav__list > <li class=md-nav__item > <a href=introduction.html  class=md-nav__link >Introduction</a> <li class=md-nav__item > <a href=univariate_volatility_modeling.html  class=md-nav__link >Examples</a> <li class=md-nav__item > <input class="md-toggle md-nav__toggle" data-md-toggle=toc  type=checkbox  id=__toc > <label class="md-nav__link md-nav__link--active" for=__toc > Forecasting </label> <a href="#" class="md-nav__link md-nav__link--active">Forecasting</a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#univariate-forecasting--page-root" class=md-nav__link >Forecasting</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#analytical-forecasts" class=md-nav__link >Analytical Forecasts</a> <li class=md-nav__item ><a href="#simulation-forecasts" class=md-nav__link >Simulation Forecasts</a> <li class=md-nav__item ><a href="#bootstrap-forecasts" class=md-nav__link >Bootstrap Forecasts</a> <li class=md-nav__item ><a href="#forecasting-options" class=md-nav__link >Forecasting Options</a> <li class=md-nav__item ><a href="#understanding-forecast-output" class=md-nav__link >Understanding Forecast Output</a> <li class=md-nav__item ><a href="#output-classes" class=md-nav__link >Output Classes</a> </ul> </nav> <li class=md-nav__item ><a class=md-nav__extra_link  href="../_sources/univariate/forecasting.rst.txt">Show Source</a> </ul> </nav> <li class=md-nav__item > <a href=univariate_volatility_forecasting.html  class=md-nav__link >Volatility Forecasting</a> <li class=md-nav__item > <a href="univariate_volatility_forecasting.html#Value-at-Risk-Forecasting" class=md-nav__link >Value-at-Risk Forecasting</a> <li class=md-nav__item > <a href=univariate_volatility_scenarios.html  class=md-nav__link >Forecasting Scenarios</a> <li class=md-nav__item > <a href=mean.html  class=md-nav__link >Mean Models</a> <li class=md-nav__item > <a href=volatility.html  class=md-nav__link >Volatility Processes</a> <li class=md-nav__item > <a href=univariate_using_fixed_variance.html  class=md-nav__link >Using the Fixed Variance Process</a> <li class=md-nav__item > <a href=distribution.html  class=md-nav__link >Distributions</a> <li class=md-nav__item > <a href=results.html  class=md-nav__link >Results</a> <li class=md-nav__item > <a href=utility.html  class=md-nav__link >Utilities</a> <li class=md-nav__item > <a href=background.html  class=md-nav__link >Background and References</a> </ul> <li class=md-nav__item > <a href="../bootstrap/bootstrap.html" class=md-nav__link >Bootstrapping</a> <li class=md-nav__item > <a href="../multiple-comparison/multiple-comparisons.html" class=md-nav__link >Multiple Comparison Problems</a> <li class=md-nav__item > <a href="../unitroot/unitroot.html" class=md-nav__link >Unit Root Testing</a> <li class=md-nav__item > <a href="../unitroot/unitroot.html#cointegration-analysis" class=md-nav__link >Cointegration Analysis</a> <li class=md-nav__item > <a href="../covariance/covariance.html" class=md-nav__link >Long-run Covariance Estimation</a> <li class=md-nav__item > <a href="../api.html" class=md-nav__link >API Reference</a> <li class=md-nav__item > <a href="../changes.html" class=md-nav__link >Change Log</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#univariate-forecasting--page-root" class=md-nav__link >Forecasting</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#analytical-forecasts" class=md-nav__link >Analytical Forecasts</a> <li class=md-nav__item ><a href="#simulation-forecasts" class=md-nav__link >Simulation Forecasts</a> <li class=md-nav__item ><a href="#bootstrap-forecasts" class=md-nav__link >Bootstrap Forecasts</a> <li class=md-nav__item ><a href="#forecasting-options" class=md-nav__link >Forecasting Options</a> <li class=md-nav__item ><a href="#understanding-forecast-output" class=md-nav__link >Understanding Forecast Output</a> <li class=md-nav__item ><a href="#output-classes" class=md-nav__link >Output Classes</a> </ul> </nav> <li class=md-nav__item ><a class=md-nav__extra_link  href="../_sources/univariate/forecasting.rst.txt">Show Source</a> <li id=searchbox  class=md-nav__item > </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <h1 id=univariate-forecasting--page-root >Forecasting<a class=headerlink  href="#univariate-forecasting--page-root" title="Permalink to this headline">¶</a></h1> <p>Multi-period forecasts can be easily produced for ARCH-type models using forward recursion, with some caveats. In particular, models that are non-linear in the sense that they do not evolve using squares or residuals do not normally have analytically tractable multi-period forecasts available.</p> <p>All models support three methods of forecasting:</p> <ul class=simple > <li><p>Analytical: analytical forecasts are always available for the 1-step ahead forecast due to the structure of ARCH-type models. Multi-step analytical forecasts are only available for model which are linear in the square of the residual, such as GARCH or HARCH.</p> <li><p>Simulation: simulation-based forecasts are always available for any horizon, although they are only useful for horizons larger than 1 since the first out-of-sample forecast from an ARCH-type model is always fixed. Simulation-based forecasts make use of the structure of an ARCH-type model to forward simulate using the assumed distribution of residuals, e.g., a Normal or Student’s t.</p> <li><p>Bootstrap: bootstrap-based forecasts are similar to simulation based forecasts except that they make use of the standardized residuals from the actual data used in the estimation rather than assuming a specific distribution. Like simulation-base forecasts, bootstrap-based forecasts are only useful for horizons larger than 1. Additionally, the bootstrap forecasting method requires a minimal amount of in-sample data to use prior to producing the forecasts.</p> </ul> <p>This document will use a standard GARCH(1,1) with a constant mean to explain the choices available for forecasting. The model can be described as</p> <div class="math notranslate nohighlight"> \begin{eqnarray} r_t &amp; = &amp; \mu + \epsilon_t \\ \epsilon_t &amp; = &amp; \sigma_t e_t \\ \sigma^2_t &amp; = &amp; \omega + \alpha \epsilon_{t-1}^2 + \beta \sigma^2_{t-1} \\ e_t &amp; \sim &amp; N(0,1) \end{eqnarray}</div><p>In code this model can be constructed using data from the S&amp;P 500 using</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=kn >from</span> <span class=nn >arch</span> <span class=kn >import</span> <span class=n >arch_model</span>
<span class=kn >import</span> <span class=nn >datetime</span> <span class=k >as</span> <span class=nn >dt</span>
<span class=kn >import</span> <span class=nn >pandas_datareader.data</span> <span class=k >as</span> <span class=nn >web</span>
<span class=n >start</span> <span class=o >=</span> <span class=n >dt</span><span class=o >.</span><span class=n >datetime</span><span class=p >(</span><span class=mi >2000</span><span class=p >,</span><span class=mi >1</span><span class=p >,</span><span class=mi >1</span><span class=p >)</span>
<span class=n >end</span> <span class=o >=</span> <span class=n >dt</span><span class=o >.</span><span class=n >datetime</span><span class=p >(</span><span class=mi >2014</span><span class=p >,</span><span class=mi >1</span><span class=p >,</span><span class=mi >1</span><span class=p >)</span>
<span class=n >sp500</span> <span class=o >=</span> <span class=n >web</span><span class=o >.</span><span class=n >get_data_yahoo</span><span class=p >(</span><span class=s1 >'^GSPC'</span><span class=p >,</span> <span class=n >start</span><span class=o >=</span><span class=n >start</span><span class=p >,</span> <span class=n >end</span><span class=o >=</span><span class=n >end</span><span class=p >)</span>
<span class=n >returns</span> <span class=o >=</span> <span class=mi >100</span> <span class=o >*</span> <span class=n >sp500</span><span class=p >[</span><span class=s1 >'Adj Close'</span><span class=p >]</span><span class=o >.</span><span class=n >pct_change</span><span class=p >()</span><span class=o >.</span><span class=n >dropna</span><span class=p >()</span>
<span class=n >am</span> <span class=o >=</span> <span class=n >arch_model</span><span class=p >(</span><span class=n >returns</span><span class=p >,</span> <span class=n >vol</span><span class=o >=</span><span class=s1 >'Garch'</span><span class=p >,</span> <span class=n >p</span><span class=o >=</span><span class=mi >1</span><span class=p >,</span> <span class=n >o</span><span class=o >=</span><span class=mi >0</span><span class=p >,</span> <span class=n >q</span><span class=o >=</span><span class=mi >1</span><span class=p >,</span> <span class=n >dist</span><span class=o >=</span><span class=s1 >'Normal'</span><span class=p >)</span>
</pre></div> </div> <p>The model will be estimated using the first 10 years to estimate parameters and then forecasts will be produced for the final 5.</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >split_date</span> <span class=o >=</span> <span class=n >dt</span><span class=o >.</span><span class=n >datetime</span><span class=p >(</span><span class=mi >2010</span><span class=p >,</span><span class=mi >1</span><span class=p >,</span><span class=mi >1</span><span class=p >)</span>
<span class=n >res</span> <span class=o >=</span> <span class=n >am</span><span class=o >.</span><span class=n >fit</span><span class=p >(</span><span class=n >last_obs</span><span class=o >=</span><span class=n >split_date</span><span class=p >)</span>
</pre></div> </div> <h2 id=analytical-forecasts >Analytical Forecasts<a class=headerlink  href="#analytical-forecasts" title="Permalink to this headline">¶</a></h2> <p>Analytical forecasts are available for most models that evolve in terms of the squares of the model residuals, e.g., GARCH, HARCH, etc. These forecasts exploit the relationship <span class="math notranslate nohighlight">\(E_t[\epsilon_{t+1}^2] = \sigma_{t+1}^2\)</span> to recursively compute forecasts.</p> <p>Variance forecasts are constructed for the conditional variances as</p> <div class="math notranslate nohighlight"> \begin{eqnarray} \sigma^2_{t+1} &amp; = &amp; \omega + \alpha \epsilon_t^2 + \beta \sigma^2_{t-1} \\ \sigma^2_{t+h} &amp; = &amp; \omega + \alpha E_{t}[\epsilon_{t+h-1}^2] + \beta E_{t}[\sigma^2_{t+h-1}] \, h \geq 2 \\ &amp; = &amp; \omega + \left(\alpha + \beta\right) E_{t}[\sigma^2_{t+h-1}] \, h \geq 2 \end{eqnarray}</div><div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >forecasts</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >forecast</span><span class=p >(</span><span class=n >horizon</span><span class=o >=</span><span class=mi >5</span><span class=p >,</span> <span class=n >start</span><span class=o >=</span><span class=n >split_date</span><span class=p >)</span>
<span class=n >forecasts</span><span class=o >.</span><span class=n >variance</span><span class=p >[</span><span class=n >split_date</span><span class=p >:]</span><span class=o >.</span><span class=n >plot</span><span class=p >()</span>
</pre></div> </div> <h2 id=simulation-forecasts >Simulation Forecasts<a class=headerlink  href="#simulation-forecasts" title="Permalink to this headline">¶</a></h2> <p>Simulation-based forecasts use the model random number generator to simulate draws of the standardized residuals, <span class="math notranslate nohighlight">\(e_{t+h}\)</span>. These are used to generate a pre-specified number of paths of the variances which are then averaged to produce the forecasts. In models like GARCH which evolve in the squares of the residuals, there are few advantages to simulation-based forecasting. These methods are more valuable when producing multi-step forecasts from models that do not have closed form multi-step forecasts such as EGARCH models.</p> <p>Assume there are <span class="math notranslate nohighlight">\(B\)</span> simulated paths. A single simulated path is generated using</p> <div class="math notranslate nohighlight"> \begin{eqnarray} \sigma^2_{t+h, b} &amp; = &amp; \omega + \alpha \epsilon_{t+h-1, b}^2 + \beta \sigma^2_{t+h-1, b} \\ \epsilon_{t+h, b} &amp; = &amp; e_{t+h, b} \sqrt{\sigma^2_{t+h, b}} \end{eqnarray}</div><p>where the simulated shocks are <span class="math notranslate nohighlight">\(e_{t+1, b}, e_{t+2, b},\ldots, e_{t+h, b}\)</span> where <span class="math notranslate nohighlight">\(b\)</span> is included to indicate that the simulations are independent across paths. Note that the first residual, <span class="math notranslate nohighlight">\(\epsilon_{t}\)</span>, is in-sample and so is not simulated.</p> <p>The final variance forecasts are then computed using the <span class="math notranslate nohighlight">\(B\)</span> simulations</p> <div class="math notranslate nohighlight"> \begin{equation} E_t[\epsilon^2_{t+h}] = \sigma^2_{t+h} = B^{-1}\sum_{b=1}^B \sigma^2_{t+h,b}. \end{equation}</div><div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >forecasts</span> <span class=o >=</span> <span class=n >res</span><span class=o >.</span><span class=n >forecast</span><span class=p >(</span><span class=n >horizon</span><span class=o >=</span><span class=mi >5</span><span class=p >,</span> <span class=n >start</span><span class=o >=</span><span class=n >split_date</span><span class=p >,</span> <span class=n >method</span><span class=o >=</span><span class=s1 >'simulation'</span><span class=p >)</span>
</pre></div> </div> <h2 id=bootstrap-forecasts >Bootstrap Forecasts<a class=headerlink  href="#bootstrap-forecasts" title="Permalink to this headline">¶</a></h2> <p>Bootstrap-based forecasts are virtually identical to simulation-based forecasts except that the standardized residuals are generated by the model. These standardized residuals are generated using the observed data and the estimated parameters as</p> <div class="math notranslate nohighlight"> \begin{equation} \hat{e}_t = \frac{r_t-\hat{\mu}}{\hat{\sigma}_t} \end{equation}</div><p>The generation scheme is identical to the simulation-based method except that the simulated shocks are drawn (i.i.d., with replacement) from <span class="math notranslate nohighlight">\(\hat{e}_{1}, \hat{e}_{2},\ldots, \hat{e}_{t}\)</span>. so that only data available at time <span class="math notranslate nohighlight">\(t\)</span> are used to simulate the paths.</p> <h2 id=forecasting-options >Forecasting Options<a class=headerlink  href="#forecasting-options" title="Permalink to this headline">¶</a></h2> <p>The <a class="reference internal" href="generated/generated/arch.univariate.base.ARCHModelResult.forecast.html#arch.univariate.base.ARCHModelResult.forecast" title=arch.univariate.base.ARCHModelResult.forecast ><code class="xref py py-meth docutils literal notranslate"><span class=pre >forecast()</span></code></a> method is attached to a model fit result.`</p> <ul class=simple > <li><p><code class="docutils literal notranslate"><span class=pre >params</span></code> - The model parameters used to forecast the mean and variance. If not specified, the parameters estimated during the call to <code class="docutils literal notranslate"><span class=pre >fit</span></code> the produced the result are used.</p> <li><p><code class="docutils literal notranslate"><span class=pre >horizon</span></code> - A positive integer value indicating the maximum horizon to produce forecasts.</p> <li><p><code class="docutils literal notranslate"><span class=pre >start</span></code> - A positive integer or, if the input to the mode is a DataFrame, a date (string, datetime, datetime64 or Timestamp). Forecasts are produced from <code class="docutils literal notranslate"><span class=pre >start</span></code> until the end of the sample. If not provided, <code class="docutils literal notranslate"><span class=pre >start</span></code> is set to the length of the input data minus 1 so that only 1 forecast is produced.</p> <li><p><code class="docutils literal notranslate"><span class=pre >align</span></code> - One of ‘origin’ (default) or ‘target’ that describes how the forecasts aligned in the output. Origin aligns forecasts to the last observation used in producing the forecast, while target aligns forecasts to the observation index that is being forecast.</p> <li><p><code class="docutils literal notranslate"><span class=pre >method</span></code> - One of ‘analytic’ (default), ‘simulation’ or ‘bootstrap’ that describes the method used to produce the forecasts. Not all methods are available for all horizons.</p> <li><p><code class="docutils literal notranslate"><span class=pre >simulations</span></code> - A non-negative integer indicating the number of simulation to use when <code class="docutils literal notranslate"><span class=pre >method</span></code> is ‘simulation’ or ‘bootstrap’</p> </ul> <h2 id=understanding-forecast-output >Understanding Forecast Output<a class=headerlink  href="#understanding-forecast-output" title="Permalink to this headline">¶</a></h2> <p>Any call to <a class="reference internal" href="generated/generated/arch.univariate.base.ARCHModelResult.forecast.html#arch.univariate.base.ARCHModelResult.forecast" title=arch.univariate.base.ARCHModelResult.forecast ><code class="xref py py-meth docutils literal notranslate"><span class=pre >forecast()</span></code></a> returns a <a class="reference internal" href="#arch.univariate.base.ARCHModelForecast" title=arch.univariate.base.ARCHModelForecast ><code class="xref py py-class docutils literal notranslate"><span class=pre >ARCHModelForecast</span></code></a> object with has 3 core attributes and 1 which may be useful when using simulation- or bootstrap-based forecasts.</p> <p>The three core attributes are</p> <ul class=simple > <li><p><code class="docutils literal notranslate"><span class=pre >mean</span></code> - The forecast conditional mean.</p> <li><p><code class="docutils literal notranslate"><span class=pre >variance</span></code> - The forecast conditional variance.</p> <li><p><code class="docutils literal notranslate"><span class=pre >residual_variance</span></code> - The forecast conditional variance of residuals. This will differ from <code class="docutils literal notranslate"><span class=pre >variance</span></code> whenever the model has dynamics (e.g. an AR model) for horizons larger than 1.</p> </ul> <p>Each attribute contains a <code class="docutils literal notranslate"><span class=pre >DataFrame</span></code> with a common structure.</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=nb >print</span><span class=p >(</span><span class=n >forecasts</span><span class=o >.</span><span class=n >variance</span><span class=o >.</span><span class=n >tail</span><span class=p >())</span>
</pre></div> </div> <p>which returns</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span>                 <span class=n >h</span><span class=o >.</span><span class=mi >1</span>       <span class=n >h</span><span class=o >.</span><span class=mi >2</span>       <span class=n >h</span><span class=o >.</span><span class=mi >3</span>       <span class=n >h</span><span class=o >.</span><span class=mi >4</span>       <span class=n >h</span><span class=o >.</span><span class=mi >5</span>
<span class=n >Date</span>
<span class=mi >2013</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >24</span>  <span class=mf >0.489534</span>  <span class=mf >0.495875</span>  <span class=mf >0.501122</span>  <span class=mf >0.509194</span>  <span class=mf >0.518614</span>
<span class=mi >2013</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >26</span>  <span class=mf >0.474691</span>  <span class=mf >0.480416</span>  <span class=mf >0.483664</span>  <span class=mf >0.491932</span>  <span class=mf >0.502419</span>
<span class=mi >2013</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >27</span>  <span class=mf >0.447054</span>  <span class=mf >0.454875</span>  <span class=mf >0.462167</span>  <span class=mf >0.467515</span>  <span class=mf >0.475632</span>
<span class=mi >2013</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >30</span>  <span class=mf >0.421528</span>  <span class=mf >0.430024</span>  <span class=mf >0.439856</span>  <span class=mf >0.448282</span>  <span class=mf >0.457368</span>
<span class=mi >2013</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >31</span>  <span class=mf >0.407544</span>  <span class=mf >0.415616</span>  <span class=mf >0.422848</span>  <span class=mf >0.430246</span>  <span class=mf >0.439451</span>
</pre></div> </div> <p>The values in the columns <code class="docutils literal notranslate"><span class=pre >h.1</span></code> are one-step ahead forecast, while values in <code class="docutils literal notranslate"><span class=pre >h.2</span></code>, …, <code class="docutils literal notranslate"><span class=pre >h.5</span></code> are 2, …, 5-observation ahead forecasts. The output is aligned so that the Date column is the final data used to generate the forecast, so that <code class="docutils literal notranslate"><span class=pre >h.1</span></code> in row <code class="docutils literal notranslate"><span class=pre >2013-12-31</span></code> is the one-step ahead forecast made using data <strong>up to and including</strong> December 31, 2013.</p> <p>By default forecasts are only produced for observations after the final observation used to estimate the model.</p> <div class="highlight-python notranslate"><div class=highlight ><pre><span></span><span class=n >day</span> <span class=o >=</span> <span class=n >dt</span><span class=o >.</span><span class=n >timedelta</span><span class=p >(</span><span class=mi >1</span><span class=p >)</span>
<span class=nb >print</span><span class=p >(</span><span class=n >forecasts</span><span class=o >.</span><span class=n >variance</span><span class=p >[</span><span class=n >split_date</span> <span class=o >-</span> <span class=mi >5</span> <span class=o >*</span> <span class=n >day</span><span class=p >:</span><span class=n >split_date</span> <span class=o >+</span> <span class=mi >5</span> <span class=o >*</span> <span class=n >day</span><span class=p >])</span>
</pre></div> </div> <p>which produces</p> <div class="highlight-default notranslate"><div class=highlight ><pre><span></span>                <span class=n >h</span><span class=o >.</span><span class=mi >1</span>       <span class=n >h</span><span class=o >.</span><span class=mi >2</span>       <span class=n >h</span><span class=o >.</span><span class=mi >3</span>       <span class=n >h</span><span class=o >.</span><span class=mi >4</span>       <span class=n >h</span><span class=o >.</span><span class=mi >5</span>
<span class=n >Date</span>
<span class=mi >2009</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >28</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>
<span class=mi >2009</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >29</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>
<span class=mi >2009</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >30</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>
<span class=mi >2009</span><span class=o >-</span><span class=mi >12</span><span class=o >-</span><span class=mi >31</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>       <span class=n >NaN</span>
<span class=mi >2010</span><span class=o >-</span><span class=mi >01</span><span class=o >-</span><span class=mi >04</span>  <span class=mf >0.739303</span>  <span class=mf >0.741100</span>  <span class=mf >0.744529</span>  <span class=mf >0.746940</span>  <span class=mf >0.752688</span>
<span class=mi >2010</span><span class=o >-</span><span class=mi >01</span><span class=o >-</span><span class=mi >05</span>  <span class=mf >0.695349</span>  <span class=mf >0.702488</span>  <span class=mf >0.706812</span>  <span class=mf >0.713342</span>  <span class=mf >0.721629</span>
<span class=mi >2010</span><span class=o >-</span><span class=mi >01</span><span class=o >-</span><span class=mi >06</span>  <span class=mf >0.649343</span>  <span class=mf >0.654048</span>  <span class=mf >0.664055</span>  <span class=mf >0.672742</span>  <span class=mf >0.681263</span>
</pre></div> </div> <p>The output will always have as many rows as the data input. Values that are not forecast are <code class="docutils literal notranslate"><span class=pre >nan</span></code> filled.</p> <h2 id=output-classes >Output Classes<a class=headerlink  href="#output-classes" title="Permalink to this headline">¶</a></h2> <dl class="py class"> <dt id=arch.univariate.base.ARCHModelForecast > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.base.</code><code class="sig-name descname">ARCHModelForecast</code><span class=sig-paren >(</span><em class=sig-param ><span class=n >index</span></em>, <em class=sig-param ><span class=n >mean</span></em>, <em class=sig-param ><span class=n >variance</span></em>, <em class=sig-param ><span class=n >residual_variance</span></em>, <em class=sig-param ><span class=n >simulated_paths</span><span class=o >=</span><span class=default_value >None</span></em>, <em class=sig-param ><span class=n >simulated_variances</span><span class=o >=</span><span class=default_value >None</span></em>, <em class=sig-param ><span class=n >simulated_residual_variances</span><span class=o >=</span><span class=default_value >None</span></em>, <em class=sig-param ><span class=n >simulated_residuals</span><span class=o >=</span><span class=default_value >None</span></em>, <em class=sig-param ><span class=n >align</span><span class=o >=</span><span class=default_value >'origin'</span></em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/base.html#ARCHModelForecast"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.base.ARCHModelForecast" title="Permalink to this definition">¶</a> <dd><p>Container for forecasts from an ARCH Model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>index</strong> (<em>{list</em><em>, </em><em>ndarray}</em>) – </p> <li><p><strong>mean</strong> (<em>ndarray</em>) – </p> <li><p><strong>variance</strong> (<em>ndarray</em>) – </p> <li><p><strong>residual_variance</strong> (<em>ndarray</em>) – </p> <li><p><strong>simulated_paths</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – </p> <li><p><strong>simulated_variances</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – </p> <li><p><strong>simulated_residual_variances</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – </p> <li><p><strong>simulated_residuals</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – </p> <li><p><strong>align</strong> (<em>{'origin'</em><em>, </em><em>'target'}</em>) – </p> </ul> </dl> <dl class="py attribute"> <dt id=arch.univariate.base.ARCHModelForecast.mean > <code class="sig-name descname">mean</code><a class=headerlink  href="#arch.univariate.base.ARCHModelForecast.mean" title="Permalink to this definition">¶</a> <dd><p>Forecast values for the conditional mean of the process</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>DataFrame</p> </dl> </dl> <dl class="py attribute"> <dt id=arch.univariate.base.ARCHModelForecast.variance > <code class="sig-name descname">variance</code><a class=headerlink  href="#arch.univariate.base.ARCHModelForecast.variance" title="Permalink to this definition">¶</a> <dd><p>Forecast values for the conditional variance of the process</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>DataFrame</p> </dl> </dl> <dl class="py attribute"> <dt id=arch.univariate.base.ARCHModelForecast.residual_variance > <code class="sig-name descname">residual_variance</code><a class=headerlink  href="#arch.univariate.base.ARCHModelForecast.residual_variance" title="Permalink to this definition">¶</a> <dd><p>Forecast values for the conditional variance of the residuals</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>DataFrame</p> </dl> </dl> </dl> <dl class="py class"> <dt id=arch.univariate.base.ARCHModelForecastSimulation > <em class=property >class </em><code class="sig-prename descclassname">arch.univariate.base.</code><code class="sig-name descname">ARCHModelForecastSimulation</code><span class=sig-paren >(</span><em class=sig-param ><span class=n >values</span></em>, <em class=sig-param ><span class=n >residuals</span></em>, <em class=sig-param ><span class=n >variances</span></em>, <em class=sig-param ><span class=n >residual_variances</span></em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/arch/univariate/base.html#ARCHModelForecastSimulation"><span class=viewcode-link >[source]</span></a><a class=headerlink  href="#arch.univariate.base.ARCHModelForecastSimulation" title="Permalink to this definition">¶</a> <dd><p>Container for a simulation or bootstrap-based forecasts from an ARCH Model</p> <dl class="field-list simple"> <dt class=field-odd >Parameters <dd class=field-odd ><ul class=simple > <li><p><strong>values</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19.dev0)"><code class="xref py py-class docutils literal notranslate"><span class=pre >ndarray</span></code></a>) – </p> <li><p><strong>residuals</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19.dev0)"><code class="xref py py-class docutils literal notranslate"><span class=pre >ndarray</span></code></a>) – </p> <li><p><strong>variances</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19.dev0)"><code class="xref py py-class docutils literal notranslate"><span class=pre >ndarray</span></code></a>) – </p> <li><p><strong>residual_variances</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19.dev0)"><code class="xref py py-class docutils literal notranslate"><span class=pre >ndarray</span></code></a>) – </p> </ul> </dl> <dl class="py attribute"> <dt id=arch.univariate.base.ARCHModelForecastSimulation.values > <code class="sig-name descname">values</code><a class=headerlink  href="#arch.univariate.base.ARCHModelForecastSimulation.values" title="Permalink to this definition">¶</a> <dd><p>Simulated values of the process</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>DataFrame</p> </dl> </dl> <dl class="py attribute"> <dt id=arch.univariate.base.ARCHModelForecastSimulation.residuals > <code class="sig-name descname">residuals</code><a class=headerlink  href="#arch.univariate.base.ARCHModelForecastSimulation.residuals" title="Permalink to this definition">¶</a> <dd><p>Simulated residuals used to produce the values</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>DataFrame</p> </dl> </dl> <dl class="py attribute"> <dt id=arch.univariate.base.ARCHModelForecastSimulation.variances > <code class="sig-name descname">variances</code><a class=headerlink  href="#arch.univariate.base.ARCHModelForecastSimulation.variances" title="Permalink to this definition">¶</a> <dd><p>Simulated variances of the values</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>DataFrame</p> </dl> </dl> <dl class="py attribute"> <dt id=arch.univariate.base.ARCHModelForecastSimulation.residual_variances > <code class="sig-name descname">residual_variances</code><a class=headerlink  href="#arch.univariate.base.ARCHModelForecastSimulation.residual_variances" title="Permalink to this definition">¶</a> <dd><p>Simulated variance of the residuals</p> <dl class="field-list simple"> <dt class=field-odd >Type <dd class=field-odd ><p>DataFrame</p> </dl> </dl> </dl> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> <a href=univariate_volatility_modeling.html  title=Material  class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev > <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Previous </span> ARCH Modeling </span> </div> </a> <a href=univariate_volatility_forecasting.html  title=Admonition  class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next > <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Next </span> Volatility Forecasting </span> </div> <div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2019, Kevin Sheppard. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 3.0.1. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>